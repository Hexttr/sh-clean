# Анализ приложения sh-clean

## Краткое описание

**sh-clean** - это приложение для пентестинга на основе **Shannon** (https://github.com/KeygraphHQ/shannon).

### Что такое Shannon?

Shannon - это полностью автономный AI пентестер, который:
- Автоматически находит уязвимости в веб-приложениях
- Выполняет реальные эксплойты для подтверждения уязвимостей
- Генерирует профессиональные отчеты с доказательствами

### Архитектура

Shannon использует многоагентную архитектуру с 4 основными фазами:

1. **Reconnaissance (Разведка)** - анализ кода и инфраструктуры
2. **Vulnerability Analysis (Анализ уязвимостей)** - поиск потенциальных проблем
3. **Exploitation (Эксплуатация)** - выполнение реальных атак
4. **Reporting (Отчетность)** - генерация финального отчета

### Технологический стек

- **Язык**: TypeScript/Node.js
- **Оркестрация**: Temporal (workflow engine)
- **Контейнеризация**: Docker
- **AI**: Anthropic Claude (через Claude Agent SDK)
- **Инструменты**: Nmap, Subfinder, WhatWeb, Schemathesis

### Покрытие уязвимостей

Shannon Lite фокусируется на:
- Broken Authentication & Authorization
- Injection (SQL, Command, etc.)
- Cross-Site Scripting (XSS)
- Server-Side Request Forgery (SSRF)

### Требования

- Docker
- Node.js
- Anthropic API key или Claude Code OAuth token
- Доступ к исходному коду приложения (white-box тестирование)

## Состояние сервера

### Информация о сервере
- **IP**: 72.56.79.153
- **ОС**: Ubuntu Linux (6.8.0-90-generic)
- **Docker**: версия 28.2.2 ✓
- **Node.js**: v20.20.0 ✓
- **npm**: установлен ✓

### Обнаруженные старые приложения

1. **shannon-uncontained** в `/root/shannon-uncontained`
   - Запущен процесс `web-interface.cjs`
   - Требует удаления

2. **Контейнеры**:
   - `juice-shop` (работает на порту 3001) - можно оставить для тестирования
   - Два остановленных контейнера (можно удалить)

3. **Процессы**:
   - `cometapi_proxy.js` - старый прокси
   - `web-interface.cjs` - старая веб-интерфейс

### Подготовка сервера

Для подготовки сервера выполните:
```bash
python prepare_server.py
```

Скрипт выполнит:
1. Остановку старых процессов
2. Удаление старых контейнеров
3. Удаление директории `shannon-uncontained`
4. Проверку окружения
5. Создание директории для нового приложения

## Следующие шаги

1. ✅ Подключение к серверу настроено
2. ✅ Скрипты для работы с сервером созданы
3. ⏳ Подготовка сервера (удаление старого приложения)
4. ⏳ Загрузка кода на сервер
5. ⏳ Установка зависимостей
6. ⏳ Настройка .env файла
7. ⏳ Запуск приложения

## Файлы проекта

- `.env` - конфигурация с учетными данными сервера
- `server_connection.py` - скрипт для проверки подключения
- `prepare_server.py` - скрипт для подготовки сервера
- `requirements.txt` - Python зависимости
- `package.json` - Node.js зависимости (из Shannon)
- `docker-compose.yml` - конфигурация Docker

